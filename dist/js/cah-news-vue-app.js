(function(){"use strict";var e={3193:function(e,t,n){var r=n(9242),a=n(4870),s=n(3396),i=n(2268),o=n(7139);const c={class:"col-12 py-2 news-item"},l=["href"],u={class:"news-item-content"},d={class:"news-thumbnail"},p=["src","alt","title"],f={class:"news-text"},w=["innerHTML"],v={class:"news-date text-muted"};var g={props:{id:{type:Number,required:!0}},setup(e){const t=e,n=(0,o.oR)(),r=(0,s.Fl)((()=>n.getters.getNewsItem(t.id))),g=(0,s.Fl)((()=>{const e=r.value.date,t=new Date(e);return t.toLocaleDateString("en-us",{year:"numeric",day:"numeric",month:"short"})}));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("a",{href:(0,a.SU)(r).link,target:"_blank",rel:"noopener"},[(0,s._)("div",u,[(0,s._)("div",d,[(0,s._)("img",{src:(0,a.SU)(r).featured_media,alt:(0,a.SU)(r).title.rendered,title:(0,a.SU)(r).title.rendered},null,8,p)]),(0,s._)("div",f,[(0,s._)("h5",{class:"mt-0",innerHTML:(0,a.SU)(r).title.rendered},null,8,w),(0,s._)("p",null,[(0,s._)("span",v,(0,i.zw)((0,a.SU)(g)),1),(0,s.Uk)(" â€¢ "+(0,i.zw)((0,a.SU)(r).excerpt.rendered),1)])])])],8,l)]))}},h=n(89);const m=(0,h.Z)(g,[["__scopeId","data-v-4ac965cc"]]);var _=m;const b={class:"row"};var y={setup(e){const t=(0,o.oR)();return(e,n)=>((0,s.wg)(),(0,s.iD)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,a.SU)(t).getters.displayList,((e,t)=>((0,s.wg)(),(0,s.j4)(_,{key:t,id:e},null,8,["id"])))),128))]))}};const U=y;var S=U;const O={key:0,class:"container"},j=["href"],k={key:1,class:"container"},x={class:"row"},N={class:"col-3 col-md-2 col-lg-1 mx-auto"};var D={setup(e){const t=(0,o.oR)(),n=(0,s.Fl)((()=>t.state.section_title_classes)),r=(0,s.Fl)((()=>t.state.button_classes)),c=(0,s.Fl)((()=>({"background-image":`url('${t.state.pluginUri}/img/cah-loading-icon.png')`,"background-repeat":"no-repeat","background-size":"contain"}))),l=(0,s.Fl)((()=>t.state.isLoaded));return(0,s.bv)((()=>{t.dispatch("doInit")})),(e,o)=>(0,a.SU)(l)?((0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("h2",{class:(0,i.C_)(["mb-3",(0,a.SU)(n)||"h1"])},(0,i.zw)((0,a.SU)(t).state.section_title),3),(0,s.Wm)(S),(0,s._)("a",{href:(0,a.SU)(t).state.button_href,target:"_blank",rel:"noopener",class:(0,i.C_)(["btn btn-primary mt-2",(0,a.SU)(r)])},(0,i.zw)((0,a.SU)(t).state.button_text),11,j)])):((0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",x,[(0,s._)("div",N,[(0,s._)("div",{class:"spin",style:(0,i.j5)((0,a.SU)(c))},null,4)])])]))}};const F=D;var L=F,I=n(4806),z=n.n(I),M=n(6265),T=n.n(M);const $={restUri:wpVars.restUri,ajaxUrl:wpVars.ajaxUrl,pluginUri:wpVars.pluginUri,nonce:wpVars.wpNonce,isLoaded:!1,news:{},dept:11,limit:-1,per_page:20,view:"full",cat:[],exclude:[],section_title:"In the News",section_title_classes:"",button_text:"More News",button_classes:"",button_href:"",new_tab:!1,tags:""};var A=(0,o.MT)({state:$,getters:{displayList:e=>Object.values(e.news).sort(((e,t)=>{const n=new Date(e.date),r=new Date(t.date);return r-n})).map((e=>e.id)),getNewsItem:e=>t=>e.news[t]},mutations:{updateState(e,{name:t,value:n}){if(void 0===e[t]){const r=e;r[t]=n,e=r}else e[t]=n}},actions:{async getOptions({commit:e}){const t=JSON.parse(z().unescape(document.querySelector("#cah-news-vue-options").value));for(const[n,r]of Object.entries(t))e("updateState",{name:n,value:r})},async getNews({commit:e,state:t}){const n=t.ajaxUrl,r=t.dept.length?Array.isArray(t.dept)?t.dept.join(","):t.dept:"",a={dept:r,tags:t.tags,per_page:t.per_page},s=z().escape(`${t.restUri}/news?${Object.entries(a).filter((([,e])=>!isNaN(e)&&e>0||(isNaN(e)||Array.isArray(e))&&e?.length)).map((([e,t])=>`${e}=${t}`)).join("&")}`),i={action:"cah-news",wpNonce:t.nonce,restRequest:s},o=new FormData;for(const[l,u]of Object.entries(i))o.append(l,u);const c=await T().post(n,o).then((e=>e.data));e("updateState",{name:"news",value:c}),e("updateState",{name:"isLoaded",value:!0})},async doInit({dispatch:e}){await e("getOptions"),e("getNews")}},modules:{}});(0,r.ri)(L).use(A).mount("#cah-news-app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,s){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self["webpackChunkcah_news_vue"]=self["webpackChunkcah_news_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3193)}));r=n.O(r)})();